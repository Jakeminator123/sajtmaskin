SAJTMASKIN SCHEMAS - OVERVIEW
Purpose: Samla en standard for hur anrop och floden fungerar.
Scope: Endast beskrivande dokument (ingen runtime).

Files in this folder:
- calls.txt
  Standard for viktigaste API-anrop, skillnad gateway/inte gateway,
  och vilka filer som ansvarar for vad.
- db-redis.txt
  Oversikt av Postgres-tabeller och Redis/Upstash-nyckelstruktur.
- post-generation-checks.txt
  Schema over alla post-generation checks som kors efter v0-generering:
  file diff, React use()-check, missing routes, design tokens, demo URL,
  bild-URL-validering (med auto-fix via Unsplash), CSS-validering,
  unicode-normalisering, materialisering.

Relation to other docs:
- src/...: kodkalla for sanning, schemas maste uppdateras nar kod andras.
- calls.txt: listar prompt assist providers (gateway/openai/anthropic) och request-format.
- db-redis.txt: speglar schema.ts och redis.ts.

How to update:
1) Nar ett endpoint, request eller response andras -> uppdatera calls.txt.
2) Nar nya floden tillkommer -> lagg till under "Flows" i calls.txt.
3) Nar naming eller konfiguration andras -> uppdatera "Env/Config" i calls.txt.

Designprincip:
- Kort och exakt. Peka till kod, duplicera inte logik.
- Inga hemligheter eller nyckelvarden i texten.

Prompt Assist (kort systembild):
- Simple: /api/ai/chat (messages[]), output = rewrite-text.
- Deep: /api/ai/brief (prompt + imageGenerations), output = brief-JSON -> v0-prompt.
- Providers: gateway (provider/model), openai + anthropic (model utan prefix).
- Kodkontext injiceras i system-prompten (ingen extra payload-falt).
